<app-auth-shell
  title="Welcome back"
  subtitle="Sign in to your account to continue"
  footerText="Don't have an account?"
  footerLinkLabel="Sign up"
  footerLink="/register"
>
  <app-auth-providers dividerText="or sign in with email" />

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
    @if (submitError()) {
      <div class="auth-server-error" role="alert" aria-live="polite">
        {{ submitError() }}
      </div>
    }

    <!-- Email -->
    <app-auth-text-field
      id="email"
      label="Email address"
      type="email"
      autocomplete="email"
      [control]="loginForm.controls.email"
      requiredMessage="Email is required"
      emailMessage="Please enter a valid email"
    />

    <app-auth-password-field
      id="password"
      label="Password"
      autocomplete="current-password"
      [control]="loginForm.controls.password"
      requiredMessage="Password is required"
      minLengthMessage="Password must be at least 6 characters"
      [feedback]="false"
    />

    <!-- Remember Me & Forgot Password -->
    <div class="auth-options">
      <div class="auth-remember">
        <p-checkbox formControlName="rememberMe" [binary]="true" inputId="rememberMe" />
        <label for="rememberMe" class="auth-remember-label">Remember me</label>
      </div>
      <a routerLink="/" class="auth-forgot">Forgot password?</a>
    </div>

    <p-button
      type="submit"
      label="Sign in"
      [rounded]="true"
      styleClass="w-full"
      [loading]="isSubmitting()"
      [disabled]="isSubmitting()"
    />
  </form>
</app-auth-shell>
